<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                LİSTEYE BİRŞEY EKLE
                <div class="input-group">
                    <input type="text" class="form-control" id="addText">
                    <button type="submit" class="btn btn-primary" id="btnAdd">EKLE</button>
                </div>
            </div>
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <label for="item1">ITEM 1</label>
                        <button type="submit" class="btn btn-info float-end " onclick="editItem(this)" id="btnEdit">DÜZENLE</button>
                        <button type="submit" class="btn btn-danger float-end " onclick="deleteItem(this)" id="btnDelete">SİL</button>
                    </li>
                    <li class="list-group-item">
                        <label for ="item2">ITEM 2</label>
                        <button type="submit" class="btn btn-info float-end " onclick="editItem(this)" id="btnEdit">DÜZENLE</button>
                        <button type="submit" class="btn btn-danger float-end " onclick="deleteItem(this)" id="btnDelete">SİL</button>
                    </li>
                    <li class="list-group-item">
                        <label for="item3">ITEM 3</label>
                        <button type="submit" class="btn btn-info float-end " onclick="editItem(this)" id="btnEdit">DÜZENLE</button>
                        <button type="submit" class="btn btn-danger float-end " onclick="deleteItem(this)" id="btnDelete">SİL</button>
                    </li>
                </ul>   
            </div>
            <button type="submit" class="btn btn-warning" id="btnDeleteAll">HEPSİNİ SİL</button>
        </div>
    </div>

    
    <script>
      let ul = document.querySelector(".list-group");

      document.querySelector("#btnAdd").addEventListener("click", addItem)
      function addItem(event)
      {
        let input = document.querySelector("#addText")
        let count = document.getElementsByTagName("li").length;
        let li = `<li class="list-group-item">
                        <label for ="item${count + 1}">${input.value}</label>
                        <button type="submit" class="btn btn-info float-end " onclick="editItem(this)" id="btnEdit">DÜZENLE</button>
                        <button type="submit" class="btn btn-danger float-end " onclick="deleteItem(this)" id="btnDelete">SİL</button>
                    </li>`;
            ul.insertAdjacentHTML("beforeend",li);
            event.preventDefault();            
      }

      function deleteItem(button)
      {
         let listItem = button.parentElement; //burda deleteItem ın parent elementine giderek item i sildi
         listItem.remove();
      }
      function editItem(button)
      {
         let listItem = button.closest("li");  // burda closest kullanarak en yakın li itemine gitti
         let label = listItem.querySelector("label");
         let newItemText = prompt("Yeni metin giriniz",label.textContext);
         if (newItemText !== null)
         {
            label.textContent = newItemText;
         }
      }

      document.querySelector("#btnDeleteAll").addEventListener("click",deleteAll)
      function deleteAll(event)
      {
         ul.innerHTML ="";
      }
    </script>
</body>
</html>